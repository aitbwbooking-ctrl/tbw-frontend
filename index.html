<!doctype html>
<html lang="hr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>TBW AI PREMIUM</title>

  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/assets/icons/favicon.ico">
  <meta name="theme-color" content="#0b1220" />

  <!-- PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png">

  <link rel="preload" href="/assets/sounds/intro.mp3" as="audio">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <!-- Intro / Splash -->
  <div id="intro" class="intro">
    <div class="intro-inner">
      <img src="/assets/icons/tbw-neon.png" alt="TBW" class="intro-logo" />
      <h1>TBW AI PREMIUM</h1>
      <p>Initializing Smart Concierge &amp; Navigation</p>
      <button id="skipIntro" class="btn ghost">Skip ‚è≠</button>
      <audio id="introSnd" src="/assets/sounds/intro.mp3" preload="auto"></audio>
    </div>
  </div>

  <!-- Top bar -->
  <header class="topbar">
    <div class="brand">
      <img src="/assets/icons/tbw-neon.png" alt="TBW" />
      <span>TBW AI PREMIUM</span>
      <span class="pill live">LIVE</span>
    </div>

    <!-- Global search (unutar trake, s tipkom Tra≈æi) -->
    <form id="globalSearch" class="search">
      <input id="q" type="search" placeholder="Split apartmani ‚Ä¢ ‚ÄòRuta do Zadra‚Äô ‚Ä¢ ‚ÄòNajbli≈æi HEP‚Äô‚Ä¶" />
      <button type="submit" class="btn">Tra≈æi</button>
      <button id="mic" type="button" class="btn mic" title="Glasovno"><span>üé§</span></button>
    </form>
  </header>

  <!-- Pokretna traka upozorenja / info -->
  <div class="ticker-wrap">
    <div id="ticker" class="ticker"></div>
    <div class="led" id="led"></div>
  </div>

  <!-- Lokacija -->
  <div class="location">
    <input id="city" type="text" placeholder="Upi≈°ite grad (npr. Split, Karlovac)"/>
    <button id="applyCity" class="btn">Primijeni</button>
  </div>

  <!-- GRID KARTICA (fiksne) -->
  <main class="grid">
    <!-- Navigacija -->
    <section class="card" data-card="nav">
      <div class="card-head">
        <h3>Navigacija</h3>
        <div class="actions">
          <button class="btn ghost" id="exitNav">EXIT</button>
          <button class="btn ghost" id="trafficBtn">Promet</button>
          <button class="btn ghost expand">Max</button>
        </div>
      </div>
      <div class="card-body">
        <div id="map" class="map"></div>
        <div class="row">
          <input id="from" placeholder="Polazi≈°te (opcionalno)" />
          <input id="to" placeholder="Odredi≈°te" />
          <button id="go" class="btn primary">GO</button>
        </div>

        <!-- Hitne & Servisi (Google Places + TomTom fallback) -->
        <div class="chips" id="serviceChips">
          <button data-type="hospital">üè• Bolnice</button>
          <button data-type="pharmacy">üíä Ljekarne</button>
          <button data-type="police">üöì Policija</button>
          <button data-type="fire_station">üî• Vatrogasci</button>
          <button data-type="gas_station">‚õΩ Punionice</button>
          <button data-type="supermarket">üõí Trgovine</button>
        </div>
      </div>
    </section>

    <!-- Rezervacija -->
    <section class="card" data-card="booking">
      <div class="card-head">
        <h3>Rezervacija smje≈°taja</h3>
        <button class="btn ghost expand">Max</button>
      </div>
      <div class="card-body">
        <div class="row">
          <input id="stayCity" placeholder="Lokacija (Split / Zadar‚Ä¶)" />
          <input id="checkin" type="date">
          <input id="checkout" type="date">
          <select id="guests">
            <option value="2">2 gosta</option>
            <option value="3">3 gosta</option>
            <option value="4">4 gosta</option>
          </select>
        </div>
        <div class="row">
          <button id="searchStay" class="btn">Pretra≈æi</button>
          <button id="reserveStay" class="btn primary">Rezerviraj</button>
          <button id="cancelStay" class="btn danger">Otka≈æi</button>
        </div>
        <p class="hint">Otvorit ƒáe Booking, Expedia, Airbnb‚Ä¶ s veƒá popunjenim filtrima.</p>
      </div>
    </section>

    <!-- Street View -->
    <section class="card" data-card="sv">
      <div class="card-head">
        <h3>Street View</h3>
        <button class="btn ghost expand">Max</button>
      </div>
      <div class="card-body">
        <div id="pano" class="pano"></div>
      </div>
    </section>

    <!-- Vrijeme ‚Ä¢ more ‚Ä¢ zrak -->
    <section class="card" data-card="weather">
      <div class="card-head">
        <h3>Vrijeme ‚Ä¢ more ‚Ä¢ zrak</h3>
        <button class="btn ghost expand">Max</button>
      </div>
      <div class="card-body">
        <ul id="wxList" class="list"></ul>
      </div>
    </section>

    <!-- Promet u≈æivo -->
    <section class="card" data-card="traffic">
      <div class="card-head">
        <h3>Promet u≈æivo</h3>
        <button class="btn ghost expand">Max</button>
      </div>
      <div class="card-body">
        <div id="trafficMap" class="map sm"></div>
      </div>
    </section>

    <!-- Stanje mora -->
    <section class="card" data-card="sea">
      <div class="card-head">
        <h3>Stanje mora</h3>
        <button class="btn ghost expand">Max</button>
      </div>
      <div class="card-body">
        <ul id="seaList" class="list"></ul>
      </div>
    </section>
  </main>

  <!-- Fullscreen modal -->
  <div id="modal" class="modal">
    <div class="modal-inner">
      <button id="closeModal" class="btn ghost close">‚úï</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <script src="/app.js" type="module"></script>
  <script>
    // PWA
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js');
    }
  </script>
</body>
</html>
