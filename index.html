<!doctype html>
<html lang="hr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TBW AI Concierge</title>

  <link rel="manifest" href="/manifest.json" />
  <link rel="stylesheet" href="/style.css" />

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>

<header class="topbar">
  <img src="/assets/TBW.png" class="logo" alt="">
  <h1>TBW AI Concierge</h1>
</header>

<div class="search">
  <input id="cityInput" placeholder="Upiši grad (npr. Split)" />
  <button onclick="loadDashboard()">Traži</button>
  <span id="statusBadge">●</span>
</div>

<main class="grid">

<!-- Vrijeme -->
<div class="card">
  <h2>Vrijeme</h2>
  <div id="weatherBox">Upiši grad iznad…</div>
</div>

<!-- Fotke -->
<div class="card">
  <h2>Fotografije</h2>
  <div id="photos" class="photos"></div>
</div>

<!-- POI -->
<div class="card">
  <h2>Znamenitosti</h2>
  <ul id="poiList"></ul>
</div>

<!-- Karta -->
<div class="card map">
  <h2>Karta</h2>
  <div id="map" style="height:300px;border-radius:10px;"></div>
</div>

<!-- Chat -->
<div class="card">
  <h2>Chat asistent</h2>
  <div id="messages"></div>
  <input id="assistantInput" placeholder="Pitaj nešto…" />
  <button onclick="sendMessage()">Pošalji</button>
</div>

</main>

<audio id="introSound" src="/assets/sounds/intro.mp3" preload="auto"></audio>
<script src="/app.js"></script>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js');
}
</script>

</body>
</html>
