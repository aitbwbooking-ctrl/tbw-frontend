<!doctype html>
<html lang="hr">
<head>
  <meta charset="utf-8" />
  <title>TBW AI PREMIUM â€“ Smart Travel, Navigation & Global Booking Assistant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#000a12" />
  <link rel="icon" href="/assets/icons/icon_192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="/assets/icons/icon_512.png" />

  <link rel="stylesheet" href="/style.css" />
</head>
<body>

  <!-- INTRO OVERLAY -->
  <div id="introOverlay">
    <canvas id="introCanvas"></canvas>
    <button id="skipIntro">PreskoÄi intro</button>
  </div>

  <!-- GORE: LOGO + STATUS + JEZIK -->
  <div id="topBar">
    <div id="topLeft">
      <img id="logo" src="/assets/TBW.png" alt="TBW Logo" />
      <div>
        <div style="font-weight:700;">TBW AI PREMIUM</div>
        <div style="font-size:12px;color:#7aa9c7;">
          Prometna upozorenja Â· Vrijeme Â· Stanje mora Â· Rezervacije Â· Alert!
        </div>
      </div>
    </div>
    <div>
      <div id="backendStatus" class="statusBox offline">Backend: provjeravamâ€¦</div>
      <div id="geoStatus" class="statusBox">Lokacija: nepoznata</div>
    </div>
    <div id="langToggle">HR ğŸ” EN</div>
  </div>

  <!-- TICKER -->
  <div id="ticker">
    <div id="tickerContent">UÄitavam prometna upozorenjaâ€¦</div>
  </div>

  <!-- GLAVNA TRAÅ½ILICA + MIC -->
  <div id="searchContainer">
    <input id="globalSearch" type="text" placeholder="Gdje idemo? (Split, Zadarâ€¦)" />
    <button id="micBtn" title="Glasovno pretraÅ¾ivanje"></button>
    <button id="searchBtn">TraÅ¾i</button>
  </div>

  <!-- VOICE BAR (sluÅ¡anje) -->
  <div id="voiceBar" class="hidden">ğŸ¤ SluÅ¡am vasâ€¦ Recite npr. â€œÅ½elim do Splita najbrÅ¾im putemâ€.</div>

  <!-- GRID 3Ã—3 WIDGETI -->
  <div id="grid">
    <!-- 1. Red -->
    <div class="card" id="cardNav">
      <div class="cardTitle">Navigacija</div>
      <div class="cardValue" id="navSummary">Nema aktivne rute</div>
      <div class="cardSub">Dodirni za otvaranje navigacije preko cijelog ekrana</div>
    </div>

    <div class="card" id="cardBooking">
      <div class="cardTitle">Rezervacija smjeÅ¡taja</div>
      <div class="cardValue" id="bookingCity">Split apartmani</div>
      <div class="cardSub">Dodirni za otvaranje Booking.com pretrage</div>
    </div>

    <div class="card" id="cardStreet">
      <div class="cardTitle">Street View</div>
      <div class="cardSub">Dodirni za Street View prikaz trenutne destinacije</div>
      <canvas id="streetMini" class="weatherCanvas"></canvas>
    </div>

    <!-- 2. Red -->
    <div class="card" id="cardWeather">
      <div class="cardTitle">Vrijeme</div>
      <div class="cardValue" id="weatherTemp">--Â°C</div>
      <div class="cardSub" id="weatherDesc">UÄitavanjeâ€¦</div>
      <canvas id="weatherCanvas" class="weatherCanvas"></canvas>
    </div>

    <div class="card" id="cardTraffic">
      <div class="cardTitle">Promet uÅ¾ivo</div>
      <div class="cardValue" id="trafficStatus">Nepoznato</div>
      <div class="cardSub" id="trafficDesc">UÄitavanjeâ€¦</div>
    </div>

    <div class="card" id="cardSea">
      <div class="cardTitle">Stanje mora &amp; trajekti</div>
      <div class="cardValue" id="seaTemp">--Â°C</div>
      <div class="cardSub" id="seaDesc">UÄitavanjeâ€¦</div>
    </div>

    <!-- 3. Red -->
    <div class="card" id="cardServices">
      <div class="cardTitle">Servisi i trgovine</div>
      <div class="cardSub" id="servicesList">UÄitavanjeâ€¦</div>
    </div>

    <div class="card" id="cardTransit">
      <div class="cardTitle">Javni prijevoz</div>
      <div class="cardSub" id="transitInfo">UÄitavanjeâ€¦</div>
    </div>

    <div class="card" id="cardAirport">
      <div class="cardTitle">Aerodromi &amp; RDS alarmi</div>
      <div class="cardSub" id="airportInfo">UÄitavanjeâ€¦</div>
      <div class="cardSub" id="rdsInfo" style="margin-top:6px;"></div>
    </div>
  </div>

  <!-- COOKIE BANNER -->
  <div id="cookieBanner">
    <div class="cookie-text">
      Ova aplikacija koristi kolaÄiÄ‡e za sigurnost, analitiku i AI funkcije.
    </div>
    <div>
      <button id="cookieAccept">Prihvati</button>
      <button id="cookieReject">Odbij</button>
    </div>
  </div>

  <!-- MODAL: NAVIGACIJA FULLSCREEN -->
  <div id="navModal" class="modalFull">
    <div class="modalContent">
      <h2>Navigacija â€“ TBW NAVI PRO</h2>
      <p>Recite ili upiÅ¡ite rutu, npr. â€œKarlovac do Splitâ€.</p>

      <label>Od:</label>
      <input id="navFrom" class="navInput" placeholder="npr. Karlovac" />

      <label>Do:</label>
      <input id="navTo" class="navInput" placeholder="npr. Split" />

      <div style="margin-top:10px; display:flex; gap:8px;">
        <button id="navGo">Kreni</button>
        <button id="navVoice">ğŸ¤ Glasovno</button>
      </div>

      <div id="navResult" style="margin-top:14px; font-size:14px;"></div>
    </div>
    <div class="closeBtn" id="navClose">Zatvori navigaciju</div>
  </div>

  <!-- MODAL: STREET VIEW (za buduÄ‡nost, sada placeholder) -->
  <div id="streetModal" class="modalFull">
    <div class="modalContent">
      <h2>TBW Street View (demo)</h2>
      <p>Ovdje moÅ¾eÅ¡ kasnije ubaciti pravi Google Street View iframe.</p>
      <div style="margin-top:15px; background:#000; border-radius:10px; height:60vh;"></div>
    </div>
    <div class="closeBtn" id="streetClose">Natrag</div>
  </div>

  <!-- MODAL: AI CHAT (za kasnije Å¡irenje) -->
  <div id="chatModal" class="modalFull" style="display:none;">
    <div class="modalContent">
      <h2>TBW AI suvozaÄ</h2>
      <div id="messages"></div>
      <div style="display:flex; gap:6px; margin-top:10px;">
        <input id="assistantInput" class="navInput" placeholder="Postavi pitanjeâ€¦" />
        <button id="assistantVoice">ğŸ¤</button>
        <button id="assistantSend">PoÅ¡alji</button>
      </div>
    </div>
    <div class="closeBtn" id="chatClose">Zatvori</div>
  </div>

  <script src="/app.js"></script>
</body>
</html>
